---
title: rclone
date: 2025-06-18 15:02:27
categories:
tags:
---
# 安裝
依照官網下在binary檔進行安裝，apt下載的版本是比較舊的

# 設定
依照rclone config的指示進行設定
1. 申請google OAuth client id，以便提高效能，使用 rclone config的時候會被詢問Option client_id.和Option client_secret.的時候可以填入

https://rclone.org/drive/#making-your-own-client-id


### 如果需要使用服務帳號

填入 JSON 金鑰檔案的完整路徑,例如:
```
/home/username/.config/rclone/service-account.json
```

或使用 `~` 代表家目錄:
```
~/rclone-service-account.json
```

jenhaoyang: 從哪裡取得service-account.json

GitHub Copilot: # 如何取得 Service Account JSON 金鑰檔案

Service Account JSON 金鑰檔案需要從 **Google Cloud Platform (GCP)** 建立和下載。以下是完整步驟:

## 建立service account步驟
rclone 在個人帳戶不要使用service account，因為沒辦法打開GSuite來設定權取Google drive API的權限


# 測試rclone連線
如果使用service account，必須把資料夾分享給service account的gmail帳號，因為他不能直接存取我們的google drive。另外也檢查的時候也必須要指定顯示與我們共用的資料夾，不然會看不到東西。

```
rclone ls google-remote: --drive-shared-with-me
```

https://ivonblog.com/posts/rclone-linux/


# rclone mount
1. 記得加上`--daemon`啟用背景執行
2. `--drive-shared-with-me`也記得要加
On Linux/macOS/FreeBSD start the mount like this, where /path/to/local/mount is an empty existing directory:
```
rclone mount remote:path/to/files /path/to/local/mount --drive-shared-with-me --daemon
```

# rclone copy 
rclone copy gdrive:backups/photos_backup /home/user/photos_restored

# reclone設為service


# 啟動gui
 rclone rcd --rc-web-gui  --rc-web-gui-update  --rc-no-auth 


rclone的服務設定檔放在~/.config/systemd/user/底下
 
# 參考
https://rclone.org/commands/rclone_rcd/
https://gist.github.com/kabili207/2cd2d637e5c7617411a666d8d7e97101